(function(){"use strict";function e(t,r,i,o){function n(t){return Object.keys(t).forEach(function(r){s.indexOf(r)===-1&&"function"==typeof t[r]&&(t[r]=e.memoize(t[r],{keyProperty:o,statistics:c}))}),t}const u=r&&"object"==typeof r?r:{exclude:r,classMethods:i,keyProperty:o},s=u&&u.exclude?u.exclude:[],c=!!u&&u.statistics;return i=u?u.classMethods:null,o=u?u.keyProperty:null,"function"==typeof t&&(i&&n(t),n(t.prototype),"undefined"!=typeof Proxy)?new Proxy(t,{construct:function(e,t){var r=Object.create(e.prototype);r.constructor=e;var i=e.apply(r,t);return n(i?i:r)}}):n(t)}e.memoize=function(e,t){function r(){for(var t,o=r.results,n=!0,u=0;u<arguments.length;u++){var s=arguments[u];t=typeof s,s&&"object"===t&&("undefined"==typeof s[r.keyProperty]&&"__memoid__"===r.keyProperty&&Object.defineProperty(s,r.keyProperty,{value:++r.memoid}),s=s[r.keyProperty]),"undefined"==typeof o[s]&&(o[s]={},n=!1),"undefined"!=typeof o[s][t]?o=o[s][t]:u<arguments.length-1?(o[s][t]={},o=o[s][t],n=!1):o=o[s]}return n?(i&&r.statistics.hits++,o):(o[t]=e.apply(this,arguments),i&&(r.statistics.initialized=new Date),o[t])}var i=!(!t||"object"!=typeof t)&&t.statistics,o=t&&"object"==typeof t&&t.keyProperty?t.keyProperty:"__memoid__";return Object.defineProperty(r,"results",{configurable:!0,writable:!0,enumerable:!1,value:{}}),Object.defineProperty(r,"memoid",{configurable:!0,writable:!0,enumerable:!1,value:0}),Object.defineProperty(r,"keyProperty",{configurable:!0,writable:!0,enumerable:!1,value:o}),i&&Object.defineProperty(r,"statistics",{configurable:!0,writable:!0,enumerable:!1,value:{hits:0,initialized:null}}),Object.defineProperty(r,"flush",{configurable:!0,writable:!0,enumerable:!1,value:function(){r.results={},i&&(r.statistics.hits=0,r.statistics.initialized=null)}}),r},"undefined"!=typeof module?module.exports=e:this.iMemoized=e}).call(this);
