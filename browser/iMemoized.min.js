(function(e){"use strict";function t(e,i,n,o){function r(e){return Object.keys(e).forEach(function(i){c.indexOf(i)===-1&&"function"==typeof e[i]&&(e[i]=t.memoize(e[i],{keyProperty:o,statistics:u}))}),e}const s=i&&"object"==typeof i?i:{exclude:i,classMethods:n,keyProperty:o},c=s&&s.exclude?s.exclude:[],u=!!s&&s.statistics;return n=s?s.classMethods:null,o=s?s.keyProperty:null,"function"==typeof e&&(n&&r(e),r(e.prototype),"undefined"!=typeof Proxy)?new Proxy(e,{construct:function(e,t){var i=Object.create(e.prototype);i.constructor=e;var n=e.apply(i,t);return r(n?n:i)}}):r(e)}t.memoize=function(e,t){var i={},n=!(!t||"object"!=typeof t)&&t.statistics,o=t&&"object"==typeof t?t.keyProperty:"__memoid__",r=0,s=function(){for(var t,c=i,u=!0,l=0;l<arguments.length;l++){var a=arguments[l];t=typeof a,a&&"object"===t&&(a=a[o],"undefined"==typeof a&&"__memoid__"===o&&Object.defineProperty(a,o,{value:++r})),void 0!==c[a]?"undefined"!=typeof c[a][t]?c=c[a][t]:l<arguments.length-1?(c[a][t]={},c=c[a][t]):c=c[a]:(c[a]={},l<arguments.length-1?(c[a][t]={},c=c[a][t]):c=c[a],u=!1)}return u?(n&&s.statistics.hits++,c):(c[t]=e.apply(this,arguments),n&&(s.statistics.initialized=new Date),c[t])};return n&&Object.defineProperty(s,"statistics",{configurable:!0,writable:!0,enumerable:!1,value:{hits:0,initialized:null}}),Object.defineProperty(s,"flush",{configurable:!0,writable:!0,enumerable:!1,value:function(){i={},n&&(s.statistics.hits=0,s.statistics.initialized=null)}}),s},"undefined"!=typeof module?module.exports=t:this.iMemoized=t}).call(this);
